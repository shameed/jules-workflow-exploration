"use strict";function getBundles(n){return bundleconfig.filter(function(t){return n.test(t.outputFileName)})}var gulp=require("gulp"),rename=require("gulp-rename"),sass=require("gulp-sass")(require("sass")),postcss=require("gulp-postcss"),cssnano=require("cssnano"),autoprefixer=require("autoprefixer"),concat=require("gulp-concat"),cssmin=require("gulp-cssmin"),uglify=require("gulp-uglify-es").default,merge=require("merge-stream"),del=require("del"),bundleconfig=require("./bundleconfig.json"),regex={css:/\.css$/,js:/\.js$/,scss:/\.scss$/};gulp.task("min:js",function(){var n=getBundles(regex.js).map(function(n){return gulp.src(n.inputFiles,{base:"."}).pipe(concat(n.outputFileName)).pipe(uglify()).pipe(gulp.dest("."))});return merge(n)});gulp.task("min:css",function(){var n=getBundles(regex.css).map(function(n){var t=[autoprefixer(),cssnano()];return gulp.src(n.inputFiles,{base:"."}).pipe(sass()).pipe(postcss(t)).pipe(concat(n.outputFileName)).pipe(gulp.dest("."))});return merge(n)});gulp.task("clean",function(){var n=bundleconfig.map(function(n){return n.outputFileName});return del(n)});gulp.task("watch",function(){getBundles(regex.js).forEach(function(n){gulp.watch(n.inputFiles,gulp.series("min:js"))});getBundles(regex.css).forEach(function(n){gulp.watch(n.inputFiles,gulp.series("min:css"))})});